.386
STACK SEGMENT USE16 STACK 
		DB 200 DUP(0)
STACK ENDS

DATA SEGMENT USE16
BUF DB 0
DATA ENDS

CODE SEGMENT USE16
		ASSUME CS:CODE,DS:DATA,SS:STACK
START:	
		MOV AX,DATA
		MOV DS,AX
IO		MACRO A,B
		MOV DL,A
		MOV AH,B
		INT 21H
ENDM
		
LP1:	IO	0,1
		CMP AL,'Q'
		JE OVER
		CMP AL,'q'
		JE OVER
		SUB AL,30H
		OUT 70H,AL
		IN AL,71H

		MOV AH,AL
		MOV CL,4
		SHR AH,CL
		AND AL,00001111B

		ADD AX,3030H
		MOV CX,AX
		IO ':',2
		IO CH,2
		IO CL,2
		IO 0AH,2
		IO 0DH,2
		JMP LP1
OVER:	MOV AH,4CH
		INT 21H
CODE ENDS
	END START
